<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="NDIP Home Tools">
    <meta name="theme-color" content="#667eea">
    <title>üè† NDIP Home Tools 2026</title>
    <style>
        /* BASE STYLES */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        :root {
            --primary-color: #667eea;
            --primary-dark: #5568d3;
            --success-color: #34C759;
            --warning-color: #FF9500;
            --danger-color: #FF3B30;
            --info-color: #5856D6;
            --background-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --card-shadow: 0 4px 20px rgba(0,0,0,0.08);
            --card-shadow-hover: 0 8px 30px rgba(0,0,0,0.12);
            --border-radius: 16px;
            --border-radius-lg: 20px;
            --spacing-sm: 12px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: var(--background-gradient);
            min-height: 100vh;
            padding: 0;
            color: #2c3e50;
            -webkit-font-smoothing: antialiased;
        }

        /* LANGUAGE TOGGLE SYSTEM */
        .lang-fr { display: none; }
        body.french .lang-en { display: none; }
        body.french .lang-fr { display: block; }
        body.french .lang-fr.inline { display: inline; }

        /* HEADER */
        .header {
            background: rgba(255,255,255,0.98);
            backdrop-filter: saturate(180%) blur(20px);
            padding: max(env(safe-area-inset-top), 20px) 20px 0 20px;
            text-align: center;
            box-shadow: 0 1px 0 rgba(0,0,0,0.05), 0 4px 16px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            font-size: 1.5em;
            font-weight: 700;
            color: #1d1d1f;
            margin-bottom: 6px;
            letter-spacing: -0.5px;
        }

        .header .subtitle {
            font-size: 0.9em;
            color: #86868b;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .lang-toggle {
            position: absolute;
            top: max(env(safe-area-inset-top), 20px);
            right: 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(102,126,234,0.3);
        }

        .lang-toggle:active {
            transform: scale(0.95);
            background: var(--primary-dark);
        }

        /* TAB NAVIGATION */
        .tab-nav {
            display: flex;
            gap: 0;
            background: #f5f5f7;
            overflow: hidden;
        }

        .tab-btn {
            flex: 1;
            background: transparent;
            border: none;
            padding: 15px 20px;
            font-size: 1em;
            font-weight: 600;
            color: #86868b;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab-btn:active { transform: scale(0.98); }

        .tab-btn.active {
            background: white;
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        .tab-btn .emoji {
            font-size: 1.2em;
            margin-right: 6px;
        }

        /* CONTAINER */
        .container {
            max-width: 640px;
            margin: 0 auto;
            padding: 0;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .content-wrapper {
            padding: var(--spacing-lg) var(--spacing-md);
            padding-bottom: max(env(safe-area-inset-bottom), 24px);
        }

        /* COLLECTIONS STYLES */
        .today-section {
            background: #ff6b6b;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            color: white;
        }

        .today-section h2 {
            font-size: 20px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .today-section .no-pickup {
            opacity: 0.9;
            font-size: 16px;
        }

        .pickup-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 12px 15px;
            border-radius: 12px;
            margin-bottom: 10px;
            font-size: 18px;
            font-weight: 500;
            backdrop-filter: blur(5px);
        }

        .pickup-item:last-child { margin-bottom: 0; }

        .next-section {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .next-section h2 {
            font-size: 20px;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .next-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 18px;
            margin-bottom: 12px;
            border-radius: 15px;
            transition: transform 0.2s ease;
        }

        .next-item:active { transform: scale(0.98); }

        .next-item.recyclables { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; }
        .next-item.organics { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; }
        .next-item.garbage { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; }
        .next-item.bulkyItems { background: linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%); color: white; }
        .next-item.leaves { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #2c3e50; }
        .next-item.cityMeeting { background: linear-gradient(135deg, #30cfd0 0%, #330867 100%); color: white; }

        .next-item-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .next-item-icon { font-size: 28px; }

        .next-item-text {
            font-size: 16px;
            font-weight: 600;
        }

        .next-item-right { text-align: right; }

        .next-item-date {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 3px;
        }

        .next-item-countdown {
            font-size: 13px;
            opacity: 0.9;
        }

        .current-date {
            font-size: 14px;
            color: #86868b;
            text-align: center;
            margin-bottom: 10px;
        }

        /* HVAC STYLES */
        .install-prompt {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);
            backdrop-filter: blur(10px);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            margin-bottom: var(--spacing-lg);
            text-align: center;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(255,255,255,0.3);
        }

        .install-prompt h3 {
            color: var(--primary-color);
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .install-prompt p {
            font-size: 0.9em;
            color: #6e6e73;
            line-height: 1.6;
        }

        .temp-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .temp-card {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            text-align: center;
            box-shadow: var(--card-shadow);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 100%;
            min-width: 0;
        }

        .temp-card:active { transform: scale(0.96); }

        .temp-card.active {
            border-color: var(--primary-color);
            box-shadow: 0 8px 30px rgba(102,126,234,0.25);
            transform: translateY(-2px);
        }

        .temp-card .emoji {
            font-size: 3em;
            margin-bottom: 12px;
        }

        .temp-card .title {
            font-weight: 700;
            font-size: 1.1em;
            color: #1d1d1f;
            margin-bottom: 6px;
        }

        .temp-card .subtitle {
            font-size: 0.85em;
            color: #86868b;
        }

        .winter-deep { background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); }
        .winter-mild { background: linear-gradient(135deg, #b3e5fc 0%, #81d4fa 100%); }
        .spring-fall { background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%); }
        .summer { background: linear-gradient(135deg, #ffe0b2 0%, #ffcc80 100%); }

        .settings-panel {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--card-shadow-hover);
            display: none;
        }

        .settings-panel.active {
            display: block;
            animation: slideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .settings-panel h2 {
            color: #1d1d1f;
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: var(--spacing-lg);
            text-align: center;
        }

        .setting-row {
            background: linear-gradient(135deg, #f5f5f7 0%, #fafafa 100%);
            padding: var(--spacing-md);
            border-radius: 14px;
            margin-bottom: var(--spacing-md);
            border-left: 4px solid var(--primary-color);
        }

        .setting-row .label {
            font-size: 0.85em;
            color: #6e6e73;
            margin-bottom: 6px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .setting-row .value {
            font-size: 1.8em;
            font-weight: 700;
            color: var(--primary-color);
        }

        .setting-row .note {
            font-size: 0.85em;
            color: #86868b;
            margin-top: 6px;
        }

        .info-note {
            background: linear-gradient(135deg, #fff9e6 0%, #fff3cd 100%);
            padding: var(--spacing-md);
            border-radius: 12px;
            font-size: 0.9em;
            color: #856404;
            margin-top: var(--spacing-md);
            line-height: 1.6;
        }

        .info-box {
            background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%);
            padding: var(--spacing-md);
            border-radius: 12px;
            font-size: 0.9em;
            color: #3f51b5;
            margin-top: var(--spacing-md);
            line-height: 1.6;
            border-left: 4px solid var(--info-color);
        }

        .details-btn, .quick-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-size: 1em;
            font-weight: 600;
            width: 100%;
            margin-top: var(--spacing-md);
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(102,126,234,0.3);
        }

        .details-btn:active, .quick-btn:active {
            transform: scale(0.98);
            background: var(--primary-dark);
        }

        .quick-access {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--card-shadow);
        }

        .quick-access h3 {
            color: #1d1d1f;
            font-size: 1.2em;
            margin-bottom: var(--spacing-md);
            text-align: center;
        }

        .quick-btn {
            background: linear-gradient(135deg, var(--success-color) 0%, #28a745 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        /* MODAL STYLES */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.65);
            backdrop-filter: blur(10px);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            margin: 20px;
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            max-width: 640px;
            width: calc(100% - 40px);
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid #f0f0f0;
        }

        .modal-header h2 {
            color: #1d1d1f;
            font-size: 1.5em;
            font-weight: 700;
        }

        .close-btn {
            background: var(--danger-color);
            color: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            font-size: 1.1em;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .close-btn:active {
            transform: scale(0.9);
        }

        .warning-box {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border-left: 4px solid var(--danger-color);
            padding: var(--spacing-md);
            border-radius: 12px;
            margin: var(--spacing-md) 0;
            font-size: 0.9em;
            line-height: 1.6;
            color: #c62828;
        }

        .success-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-left: 4px solid var(--success-color);
            padding: var(--spacing-md);
            border-radius: 12px;
            margin: var(--spacing-md) 0;
            font-size: 0.9em;
            line-height: 1.6;
            color: #2e7d32;
        }

        .detail-table {
            width: 100%;
            margin: var(--spacing-md) 0;
            border-collapse: separate;
            border-spacing: 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        .detail-table th {
            background: var(--primary-color);
            color: white;
            padding: 14px 12px;
            text-align: left;
            font-size: 0.85em;
            font-weight: 600;
            text-transform: uppercase;
        }

        .detail-table td {
            padding: 14px 12px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 0.9em;
            background: white;
        }

        .detail-table tr:last-child td { border-bottom: none; }
        .detail-table tbody tr:nth-child(even) td { background: #fafafa; }

        .maintenance-card {
            background: white;
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            box-shadow: var(--card-shadow);
            border-left: 4px solid var(--success-color);
        }

        .maintenance-card h4 {
            color: #1d1d1f;
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .maintenance-card .frequency {
            background: var(--success-color);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 8px;
        }

        .maintenance-card p {
            color: #6e6e73;
            font-size: 0.9em;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .product-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--primary-color);
            color: white;
            padding: 8px 14px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.85em;
            font-weight: 600;
            margin-top: 8px;
        }

        .product-link:active {
            background: var(--primary-dark);
            transform: scale(0.98);
        }

        .footer {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: var(--spacing-md);
            text-align: center;
            margin-top: var(--spacing-lg);
            border-radius: var(--border-radius);
            font-size: 0.85em;
            color: #6e6e73;
            box-shadow: var(--card-shadow);
        }

        .footer p { line-height: 1.6; }

        .footer-link {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            display: block;
            margin-top: 12px;
            padding: 12px;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 10px;
        }

        .footer-link:active {
            background: linear-gradient(135deg, #bbdefb 0%, #90caf9 100%);
            transform: scale(0.98);
        }

        .loading {
            text-align: center;
            color: #6e6e73;
            padding: 40px;
            font-size: 18px;
        }

        @media (max-width: 480px) {
            .header h1 { font-size: 1.3em; }
            .tab-btn { font-size: 0.9em; padding: 12px 15px; }
            .next-item-text, .next-item-date { font-size: 14px; }
        }
    </style>
</head>
<body>
    <div class="header">
        <button class="lang-toggle" onclick="toggleLanguage()">
            <span class="lang-en">üá´üá∑ FR</span>
            <span class="lang-fr">üá®üá¶ EN</span>
        </button>
        <h1>
            <span class="lang-en">üè† NDIP Home Tools</span>
            <span class="lang-fr">üè† Outils Maison NDIP</span>
        </h1>
        <p class="subtitle">
            <span class="lang-en">Notre-Dame-de-l'√éle-Perrot 2026</span>
            <span class="lang-fr">Notre-Dame-de-l'√éle-Perrot 2026</span>
        </p>
        
        <div class="tab-nav">
            <button class="tab-btn active" onclick="switchTab('collections')" id="tab-collections">
                <span class="emoji">üìÖ</span>
                <span class="lang-en">Collections</span>
                <span class="lang-fr">Collectes</span>
            </button>
            <button class="tab-btn" onclick="switchTab('hvac')" id="tab-hvac">
                <span class="emoji">üè†</span>
                <span class="lang-en">HVAC</span>
                <span class="lang-fr">Ventilation</span>
            </button>
        </div>
    </div>

    <div class="container">
        <!-- COLLECTIONS TAB -->
        <div id="collections-content" class="tab-content active">
            <div class="content-wrapper">
                <div class="current-date" id="current-date"></div>
                <div id="collections-app-content" class="loading">
                    <div>‚è≥ <span class="lang-en">Loading...</span><span class="lang-fr">Chargement...</span></div>
                </div>
            </div>
        </div>

        <!-- HVAC TAB -->
        <div id="hvac-content" class="tab-content">
            <div class="content-wrapper">
                <div class="install-prompt">
                    <h3>
                        <span class="lang-en">üì± Add to Home Screen</span>
                        <span class="lang-fr">üì± Ajouter √† l'√âcran d'Accueil</span>
                    </h3>
                    <p class="lang-en">Tap the Share button ‚éô and select "Add to Home Screen" for quick access!</p>
                    <p class="lang-fr">Appuyez sur le bouton Partager ‚éô et s√©lectionnez ¬´ Sur l'√©cran d'accueil ¬ª pour un acc√®s rapide!</p>
                </div>
                
                <div class="quick-access">
                    <h3>
                        <span class="lang-en">‚ö° Quick Access</span>
                        <span class="lang-fr">‚ö° Acc√®s Rapide</span>
                    </h3>
                    <button class="quick-btn" onclick="showModal('maintenance-modal')">
                        <span class="lang-en">üîß Maintenance Schedule & Links</span>
                        <span class="lang-fr">üîß Calendrier d'Entretien et Liens</span>
                    </button>
                </div>
                
                <div class="temp-grid">
                    <div class="temp-card winter-deep" onclick="showSettings('deep-winter')">
                        <span class="emoji">ü•∂</span>
                        <div class="title">
                            <span class="lang-en">Deep Winter</span>
                            <span class="lang-fr">Grand Froid</span>
                        </div>
                        <div class="subtitle">
                            <span class="lang-en">Below -15¬∞C</span>
                            <span class="lang-fr">Sous -15¬∞C</span>
                        </div>
                    </div>
                    
                    <div class="temp-card winter-mild" onclick="showSettings('mild-winter')">
                        <span class="emoji">‚ùÑÔ∏è</span>
                        <div class="title">
                            <span class="lang-en">Mild Winter</span>
                            <span class="lang-fr">Hiver Doux</span>
                        </div>
                        <div class="subtitle">
                            <span class="lang-en">-15¬∞C to 0¬∞C</span>
                            <span class="lang-fr">-15¬∞C √† 0¬∞C</span>
                        </div>
                    </div>
                    
                    <div class="temp-card spring-fall" onclick="showSettings('spring-fall')">
                        <span class="emoji">üå±</span>
                        <div class="title">
                            <span class="lang-en">Spring/Fall</span>
                            <span class="lang-fr">Printemps/Automne</span>
                        </div>
                        <div class="subtitle">
                            <span class="lang-en">0¬∞C to 15¬∞C</span>
                            <span class="lang-fr">0¬∞C √† 15¬∞C</span>
                        </div>
                    </div>
                    
                    <div class="temp-card summer" onclick="showSettings('summer')">
                        <span class="emoji">‚òÄÔ∏è</span>
                        <div class="title">
                            <span class="lang-en">Summer</span>
                            <span class="lang-fr">√ât√©</span>
                        </div>
                        <div class="subtitle">
                            <span class="lang-en">Above 15¬∞C</span>
                            <span class="lang-fr">Au-dessus de 15¬∞C</span>
                        </div>
                    </div>
                </div>
                
                <!-- HVAC Settings Panels - Abbreviated for space -->
                <div id="deep-winter" class="settings-panel">
                    <h2>
                        <span class="lang-en">ü•∂ Deep Winter Settings</span>
                        <span class="lang-fr">ü•∂ R√©glages Grand Froid</span>
                    </h2>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">GeneralAire Humidifier</span>
                            <span class="lang-fr">Humidificateur GeneralAire</span>
                        </div>
                        <div class="value">30-35%</div>
                        <div class="note">
                            <span class="lang-en">Mode: Manual</span>
                            <span class="lang-fr">Mode: Manuel</span>
                        </div>
                    </div>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">Aldes Controller Humidity Step</span>
                            <span class="lang-fr">Contr√¥leur Aldes Palier d'Humidit√©</span>
                        </div>
                        <div class="value">40-45%</div>
                        <div class="note">
                            <span class="lang-en">Always 10-15% higher than humidifier</span>
                            <span class="lang-fr">Toujours 10-15% plus √©lev√© que l'humidificateur</span>
                        </div>
                    </div>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">Aldes Controller Mode & Speed</span>
                            <span class="lang-fr">Contr√¥leur Aldes Mode et Vitesse</span>
                        </div>
                        <div class="value">
                            <span class="lang-en">üïí Timer / Speed 1</span>
                            <span class="lang-fr">üïí Minuterie / Vitesse 1</span>
                        </div>
                    </div>
                    <div class="warning-box">
                        <strong class="lang-en">‚ö†Ô∏è Important - Wood Protection: Never go below 30% humidity in winter. Maintain 30-50% year-round for wood stability.</strong>
                        <strong class="lang-fr">‚ö†Ô∏è Important - Protection du Bois: Ne jamais descendre sous 30% d'humidit√© en hiver. Maintenez 30-50% √† l'ann√©e.</strong>
                    </div>
                </div>

                <div id="mild-winter" class="settings-panel">
                    <h2>
                        <span class="lang-en">‚ùÑÔ∏è Mild Winter Settings</span>
                        <span class="lang-fr">‚ùÑÔ∏è R√©glages Hiver Doux</span>
                    </h2>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">GeneralAire Humidifier</span>
                            <span class="lang-fr">Humidificateur GeneralAire</span>
                        </div>
                        <div class="value">30-35%</div>
                    </div>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">Aldes Controller Humidity Step</span>
                            <span class="lang-fr">Contr√¥leur Aldes Palier d'Humidit√©</span>
                        </div>
                        <div class="value">40-45%</div>
                    </div>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">Aldes Controller Mode & Speed</span>
                            <span class="lang-fr">Contr√¥leur Aldes Mode et Vitesse</span>
                        </div>
                        <div class="value">
                            <span class="lang-en">üîÅ Exchange / Speed 1</span>
                            <span class="lang-fr">üîÅ √âchange / Vitesse 1</span>
                        </div>
                    </div>
                </div>

                <div id="spring-fall" class="settings-panel">
                    <h2>
                        <span class="lang-en">üå± Spring/Fall Settings</span>
                        <span class="lang-fr">üå± R√©glages Printemps/Automne</span>
                    </h2>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">GeneralAire Humidifier</span>
                            <span class="lang-fr">Humidificateur GeneralAire</span>
                        </div>
                        <div class="value">30-40%</div>
                    </div>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">Aldes Controller Humidity Step</span>
                            <span class="lang-fr">Contr√¥leur Aldes Palier d'Humidit√©</span>
                        </div>
                        <div class="value">45-50%</div>
                    </div>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">Aldes Controller Mode & Speed</span>
                            <span class="lang-fr">Contr√¥leur Aldes Mode et Vitesse</span>
                        </div>
                        <div class="value">
                            <span class="lang-en">üîÅ Exchange / Speed 1</span>
                            <span class="lang-fr">üîÅ √âchange / Vitesse 1</span>
                        </div>
                    </div>
                </div>

                <div id="summer" class="settings-panel">
                    <h2>
                        <span class="lang-en">‚òÄÔ∏è Summer Settings</span>
                        <span class="lang-fr">‚òÄÔ∏è R√©glages √ât√©</span>
                    </h2>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">GeneralAire Humidifier</span>
                            <span class="lang-fr">Humidificateur GeneralAire</span>
                        </div>
                        <div class="value">
                            <span class="lang-en">OFF</span>
                            <span class="lang-fr">FERM√â</span>
                        </div>
                    </div>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">Aldes Controller Humidity Step</span>
                            <span class="lang-fr">Contr√¥leur Aldes Palier d'Humidit√©</span>
                        </div>
                        <div class="value">55-60%</div>
                    </div>
                    <div class="setting-row">
                        <div class="label">
                            <span class="lang-en">Aldes Controller Mode & Speed</span>
                            <span class="lang-fr">Contr√¥leur Aldes Mode et Vitesse</span>
                        </div>
                        <div class="value">
                            <span class="lang-en">üîÅ Exchange / Speed 1</span>
                            <span class="lang-fr">üîÅ √âchange / Vitesse 1</span>
                        </div>
                    </div>
                    <div class="warning-box">
                        <strong class="lang-en">‚ö†Ô∏è Important: Do NOT humidify when AC is running.</strong>
                        <strong class="lang-fr">‚ö†Ô∏è Important: N'humidifiez PAS lorsque le climatiseur fonctionne.</strong>
                    </div>
                </div>
                
                <div class="footer">
                    <p>
                        <span class="lang-en">üí° <strong>Remember:</strong> Aldes controller humidity should always be 10-15% higher than GeneralAire</span>
                        <span class="lang-fr">üí° <strong>Rappel:</strong> L'humidit√© du contr√¥leur Aldes devrait toujours √™tre 10-15% plus √©lev√©e que le GeneralAire</span>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Maintenance Modal (simplified) -->
    <div id="maintenance-modal" class="modal" onclick="if(event.target === this) closeModal('maintenance-modal')">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <span class="lang-en">üîß Maintenance Schedule</span>
                    <span class="lang-fr">üîß Calendrier d'Entretien</span>
                </h2>
                <button class="close-btn" onclick="closeModal('maintenance-modal')">‚úï</button>
            </div>
            <div class="maintenance-card">
                <h4>
                    <span class="lang-en">üå°Ô∏è Furnace Filter</span>
                    <span class="lang-fr">üå°Ô∏è Filtre de Fournaise</span>
                </h4>
                <span class="frequency">
                    <span class="lang-en">Every 3 months</span>
                    <span class="lang-fr">Aux 3 mois</span>
                </span>
                <p class="lang-en">Replace your furnace filter regularly to maintain air quality and system efficiency.</p>
                <p class="lang-fr">Remplacez votre filtre de fournaise r√©guli√®rement pour maintenir la qualit√© de l'air.</p>
                <a href="https://www.furnacefilters.ca/products/20-x-25-x-4-merv-8-pleated-filters-case-of-4" class="product-link" target="_blank">
                    <span class="lang-en">üõí Buy Filters</span>
                    <span class="lang-fr">üõí Acheter Filtres</span>
                </a>
            </div>
            <div class="maintenance-card">
                <h4>
                    <span class="lang-en">üíß Humidifier Pad</span>
                    <span class="lang-fr">üíß Tampon Humidificateur</span>
                </h4>
                <span class="frequency">
                    <span class="lang-en">Annually</span>
                    <span class="lang-fr">Annuellement</span>
                </span>
                <p class="lang-en">Replace at the beginning of each heating season (September/October).</p>
                <p class="lang-fr">Remplacez au d√©but de chaque saison de chauffage (septembre/octobre).</p>
                <a href="https://a.co/d/5AEBEDE" class="product-link" target="_blank">
                    <span class="lang-en">üõí Buy Pad</span>
                    <span class="lang-fr">üõí Acheter Tampon</span>
                </a>
            </div>
        </div>
    </div>

    <script>
        // ==================== COLLECTIONS JAVASCRIPT ====================
        const SCHEDULE = {
            recyclables: ['2026-01-12', '2026-01-26', '2026-02-09', '2026-02-23', '2026-03-09', '2026-03-23', '2026-04-06', '2026-04-20', '2026-05-04', '2026-05-18', '2026-06-01', '2026-06-15', '2026-06-29', '2026-07-13', '2026-07-27', '2026-08-10', '2026-08-24', '2026-09-07', '2026-09-21', '2026-10-05', '2026-10-19', '2026-11-02', '2026-11-16', '2026-11-30', '2026-12-14', '2026-12-28'],
            organics: ['2026-01-07', '2026-01-14', '2026-01-21', '2026-01-28', '2026-02-04', '2026-02-11', '2026-02-18', '2026-02-25', '2026-03-04', '2026-03-11', '2026-03-18', '2026-03-25', '2026-04-01', '2026-04-08', '2026-04-15', '2026-04-22', '2026-04-29', '2026-05-06', '2026-05-13', '2026-05-20', '2026-05-27', '2026-06-03', '2026-06-10', '2026-06-17', '2026-06-24', '2026-07-01', '2026-07-08', '2026-07-15', '2026-07-22', '2026-07-29', '2026-08-05', '2026-08-12', '2026-08-19', '2026-08-26', '2026-09-02', '2026-09-09', '2026-09-16', '2026-09-23', '2026-09-30', '2026-10-07', '2026-10-14', '2026-10-21', '2026-10-28', '2026-11-04', '2026-11-11', '2026-11-18', '2026-11-25', '2026-12-02', '2026-12-09', '2026-12-16', '2026-12-23', '2026-12-30'],
            garbage: ['2026-01-02', '2026-01-15', '2026-01-29', '2026-02-12', '2026-02-26', '2026-03-12', '2026-03-26', '2026-04-09', '2026-04-23', '2026-05-07', '2026-05-21', '2026-06-04', '2026-06-18', '2026-07-02', '2026-07-16', '2026-07-30', '2026-08-13', '2026-08-27', '2026-09-10', '2026-09-24', '2026-10-08', '2026-10-22', '2026-11-05', '2026-11-19', '2026-12-03', '2026-12-17', '2026-12-31'],
            bulkyItems: ['2026-02-19','2026-03-19','2026-04-16', '2026-05-21','2026-06-18', '2026-07-16','2026-08-20','2026-09-17','2026-10-15', '2026-11-19','2026-12-17'],
            leaves: ['2026-05-06', '2026-05-20', '2026-06-03', '2026-06-17', '2026-07-01', '2026-07-15', '2026-07-29', '2026-08-12', '2026-08-26', '2026-09-09', '2026-09-23', '2026-10-07', '2026-10-21', '2026-11-04', '2026-11-11', '2026-11-18'],
            cityMeeting: ['2026-01-20', '2026-02-10', '2026-03-10', '2026-04-14', '2026-05-12', '2026-06-09', '2026-07-14', '2026-08-11', '2026-09-08', '2026-10-13', '2026-11-10', '2026-12-08']
        };

        const TRANSLATIONS = {
            fr: {
                title: 'üìÖ Collectes NDIP 2026',
                today: "Aujourd'hui",
                noPickupToday: "Aucune collecte aujourd'hui",
                nextPickups: 'Prochaines collectes',
                recyclables: 'Recyclage',
                organics: 'Compost',
                garbage: 'Ordures',
                bulkyItems: 'Rebuts volumineux',
                leaves: 'R√©sidus verts',
                cityMeeting: 'S√©ance du conseil',
                tomorrow: 'Demain',
                inDays: 'dans {n} jours',
                inDay: 'dans 1 jour',
                today_lower: "aujourd'hui"
            },
            en: {
                title: 'üìÖ NDIP Collections 2026',
                today: 'Today',
                noPickupToday: 'No pickup today',
                nextPickups: 'Next Pickups',
                recyclables: 'Recycling',
                organics: 'Compost',
                garbage: 'Garbage',
                bulkyItems: 'Bulky Items',
                leaves: 'Leaves',
                cityMeeting: 'City Meeting',
                tomorrow: 'Tomorrow',
                inDays: 'in {n} days',
                inDay: 'in 1 day',
                today_lower: 'today'
            }
        };

        const ICONS = {
            recyclables: '‚ôªÔ∏è',
            organics: 'üå±',
            garbage: 'üóëÔ∏è',
            bulkyItems: 'üõãÔ∏è',
            leaves: 'üçÇ',
            cityMeeting: 'üèõÔ∏è'
        };

        let currentLang = 'fr';

        function toggleLanguage() {
            currentLang = currentLang === 'fr' ? 'en' : 'fr';
            document.body.classList.toggle('french', currentLang === 'fr');
            document.documentElement.lang = currentLang;
            localStorage.setItem('preferred-language', currentLang);
            renderCollections();
        }

        function switchTab(tabName) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            document.getElementById('tab-' + tabName).classList.add('active');
            document.getElementById(tabName + '-content').classList.add('active');
            
            localStorage.setItem('active-tab', tabName);
        }

        function t(key) {
            return TRANSLATIONS[currentLang][key] || key;
        }

        function formatDate(dateStr, lang) {
            const date = new Date(dateStr + 'T12:00:00');
            const options = { weekday: 'short', month: 'short', day: 'numeric' };
            return date.toLocaleDateString(lang === 'fr' ? 'fr-CA' : 'en-CA', options);
        }

        function getCurrentDate() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return now.toLocaleDateString(currentLang === 'fr' ? 'fr-CA' : 'en-CA', options);
        }

        function getTodayString() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        function getDaysUntil(dateStr) {
            const today = new Date(getTodayString() + 'T12:00:00');
            const target = new Date(dateStr + 'T12:00:00');
            const diffTime = target - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays;
        }

        function getCountdownText(days) {
            if (days === 0) return t('today_lower');
            if (days === 1) return t('tomorrow');
            return t('inDays').replace('{n}', days);
        }

        function getNextDate(dates) {
            const today = getTodayString();
            const futureDates = dates.filter(d => d >= today).sort();
            return futureDates[0] || null;
        }

        function getTodayPickups() {
            const today = getTodayString();
            const pickups = [];
            Object.keys(SCHEDULE).forEach(type => {
                if (SCHEDULE[type].includes(today)) {
                    pickups.push({
                        type,
                        name: t(type),
                        icon: ICONS[type]
                    });
                }
            });
            return pickups;
        }

        function getNextPickups() {
            const pickups = [];
            Object.keys(SCHEDULE).forEach(type => {
                if (SCHEDULE[type].length === 0) return;
                const nextDate = getNextDate(SCHEDULE[type]);
                if (nextDate) {
                    const daysUntil = getDaysUntil(nextDate);
                    pickups.push({
                        type,
                        name: t(type),
                        icon: ICONS[type],
                        date: nextDate,
                        daysUntil,
                        formattedDate: formatDate(nextDate, currentLang),
                        countdown: getCountdownText(daysUntil)
                    });
                }
            });
            return pickups.sort((a, b) => a.daysUntil - b.daysUntil);
        }

        function renderCollections() {
            document.getElementById('current-date').textContent = getCurrentDate();
            const todayPickups = getTodayPickups();
            const nextPickups = getNextPickups();

            let html = `
                <div class="today-section">
                    <h2><span class="icon">üîî</span> ${t('today')}</h2>
            `;

            if (todayPickups.length === 0) {
                html += `<div class="no-pickup">${t('noPickupToday')}</div>`;
            } else {
                todayPickups.forEach(pickup => {
                    html += `<div class="pickup-item">${pickup.icon} ${pickup.name}</div>`;
                });
            }

            html += `</div><div class="next-section"><h2>${t('nextPickups')}</h2>`;

            nextPickups.forEach(pickup => {
                html += `
                    <div class="next-item ${pickup.type}">
                        <div class="next-item-left">
                            <div class="next-item-icon">${pickup.icon}</div>
                            <div class="next-item-text">${pickup.name}</div>
                        </div>
                        <div class="next-item-right">
                            <div class="next-item-date">${pickup.formattedDate}</div>
                            <div class="next-item-countdown">${pickup.countdown}</div>
                        </div>
                    </div>
                `;
            });

            html += `</div>`;
            document.getElementById('collections-app-content').innerHTML = html;
        }

        // ==================== HVAC JAVASCRIPT ====================
        function showSettings(season) {
            document.querySelectorAll('.temp-card').forEach(card => card.classList.remove('active'));
            document.querySelectorAll('.settings-panel').forEach(panel => panel.classList.remove('active'));
            
            const panel = document.getElementById(season);
            if (panel) {
                panel.classList.add('active');
                event.currentTarget.classList.add('active');
                setTimeout(() => {
                    const headerHeight = document.querySelector('.header').offsetHeight;
                    const panelTop = panel.getBoundingClientRect().top + window.pageYOffset - headerHeight - 20;
                    window.scrollTo({ top: panelTop, behavior: 'smooth' });
                }, 100);
            }
        }

        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        // ==================== INITIALIZATION ====================
        window.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem('preferred-language');
            if (savedLang) {
                currentLang = savedLang;
                document.body.classList.toggle('french', currentLang === 'fr');
                document.documentElement.lang = currentLang;
            }
            
            const savedTab = localStorage.getItem('active-tab');
            if (savedTab && savedTab !== 'collections') {
                switchTab(savedTab);
            }
            
            renderCollections();
            setInterval(renderCollections, 60000);
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal.active').forEach(modal => {
                    modal.classList.remove('active');
                });
                document.body.style.overflow = '';
            }
        });
    </script>
</body>
</html>
